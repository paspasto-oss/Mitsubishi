<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cenov√° ponuka ‚Äì Tepeln√© ƒçerpadlo (Opraven√° verzia)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; }

    /* ================= PRINT ≈†T√ùLY ================= */
    @media print {
      @page { size: A4; margin: 10mm; }
      html, body {
        background: #ffffff !important;
        color: #0f172a !important;
        font-size: 10pt !important; /* Mierne zmen≈°en√© p√≠smo, aby sa v≈°etko zmestilo */
        line-height: 1.3 !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
      }
      .no-print { display: none !important; }
      .shadow-xl, .shadow-lg { box-shadow: none !important; }
      .rounded-lg { border-radius: 0 !important; }
      
      /* Header layout pre tlaƒç */
      .header-row { 
        display: flex !important; 
        flex-direction: row !important; 
        justify-content: space-between !important;
        gap: 10mm !important;
      }
      .header-left  { width: 60% !important; }
      .header-right { width: 40% !important; text-align: right !important; }

      /* Tabuƒæky */
      table { width: 100% !important; border-collapse: collapse !important; }
      th, td { padding: 4px 8px !important; border-bottom: 1px solid #e2e8f0 !important; }
      tr { page-break-inside: avoid !important; }
      
      /* Farby */
      .bg-slate-800 { background: #0f172a !important; color: white !important; }
      .text-red-400 { color: #ef4444 !important; }
      
      /* Sekcie */
      .print-section { margin-bottom: 5mm !important; }
      .avoid-break { page-break-inside: avoid !important; }
    }
  </style>
</head>

<body class="bg-gray-100 p-4 md:p-8 text-slate-800">

  <div class="max-w-4xl mx-auto bg-white shadow-xl rounded-lg overflow-hidden">

    <div class="bg-slate-800 text-white p-8 print:p-6">
      <div class="flex flex-col md:flex-row justify-between items-start gap-6 header-row">
        
        <div class="header-left w-full md:w-2/3">
          <h1 class="text-3xl font-extrabold tracking-wide uppercase leading-none">Cenov√° ponuka</h1>
          <div class="flex items-center gap-2 mt-2">
            <span class="text-red-400 font-bold text-lg" id="offerNumberDisplay">2026/001</span>
            <span class="text-slate-400 text-sm">| N√°vrh syst√©mu vykurovania</span>
          </div>

          <div class="mt-4 text-xs text-slate-400">
            <p>D√°tum vystavenia: <span id="date" class="text-slate-300 font-medium"></span></p>
            <p>Platnos≈• ponuky: 30 dn√≠</p>
          </div>

          <div class="mt-6">
            <p class="text-[10px] uppercase text-slate-500 font-bold mb-1 tracking-widest">Z√°kazn√≠k / Odberateƒæ</p>
            <div id="customerDisplay" class="text-sm font-semibold whitespace-pre-line text-white leading-relaxed">V√°≈æen√Ω z√°kazn√≠k
Ulica 123
000 00 Mesto</div>
          </div>

          <div class="no-print mt-6 p-4 bg-slate-700/50 rounded border border-slate-600">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
              <input type="text" id="offerNumberInput" class="rounded bg-slate-800 border border-slate-500 px-2 py-1 text-xs text-white" placeholder="ƒå√≠slo ponuky" value="2026/001">
              <select id="offerSelect" class="rounded bg-slate-800 border border-slate-500 px-2 py-1 text-xs text-white">
                <option value="mitsubishi">Mitsubishi Zubadan 12 kW (Split)</option>
                <option value="panasonic_split">Panasonic Aquarea K 9 kW (Split)</option>
                <option value="hyundai_supreme_10">Hyundai Supreme 10 kW (Split)</option>
                <option value="midea_split_12">Midea M-Thermal 12 kW (Split)</option>
                <option value="midea_arctic_10">Midea Arctic 10 kW (MONOBLOK)</option>
                <option value="midea_arctic_12">Midea Arctic 12 kW (MONOBLOK)</option>
              </select>
            </div>
            <textarea id="customerInput" rows="2" class="w-full rounded bg-slate-800 border border-slate-500 px-2 py-1 text-xs text-white mb-3" placeholder="Z√°kazn√≠k...">V√°≈æen√Ω z√°kazn√≠k
Ulica 123
000 00 Mesto</textarea>
            <button onclick="window.print()" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded text-sm transition">üñ®Ô∏è Vytlaƒçi≈• / Ulo≈æi≈• PDF</button>
          </div>
        </div>

        <div class="header-right w-full md:w-1/3 md:text-right">
          <div class="text-2xl font-bold text-white mb-1">Spektra install s.r.o.</div>
          <div class="text-sm text-slate-300 space-y-0.5">
            <p>Holl√©ho 210, 015 01 Rajec</p>
            <p class="text-red-400 font-medium mt-1">spektrainstall@gmail.com</p>
            <p class="font-medium">0917 572 221</p>
          </div>
          <div class="mt-6 flex md:justify-end">
             <div class="h-16 w-32 bg-white/10 flex items-center justify-center text-xs text-slate-500 border border-slate-600 rounded">LOGO</div>
          </div>
        </div>
      </div>
    </div>

    <div class="p-8 border-b border-gray-200 print:p-4 print-section">
      <div class="flex items-center gap-4 mb-4">
         <h2 class="text-lg font-bold text-slate-800 uppercase tracking-wide">≈†pecifik√°cia rie≈°enia</h2>
         <span id="systemTypeBadge" class="px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-blue-100 text-blue-700 border border-blue-200">Split Syst√©m</span>
      </div>
      
      <div class="grid grid-cols-2 gap-8 text-sm">
        <div>
          <p class="text-slate-500 text-[10px] uppercase font-bold tracking-wider mb-0.5">Zvolen√° technol√≥gia</p>
          <p class="font-bold text-slate-900 text-base" id="brandText">-</p>
        </div>
        <div>
          <p class="text-slate-500 text-[10px] uppercase font-bold tracking-wider mb-0.5">Nomin√°lny v√Ωkon</p>
          <p class="font-bold text-slate-900 text-base" id="powerText">-</p>
        </div>
      </div>
    </div>

    <div class="p-8 print:p-4 print-section">
      <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center">
        <span class="bg-slate-200 text-slate-700 rounded w-6 h-6 flex items-center justify-center mr-2 text-xs">1</span>
        Dod√°vka technol√≥gie
      </h3>
      <table class="w-full text-sm text-left">
        <thead class="text-xs text-slate-500 uppercase bg-slate-50 border-b">
          <tr>
            <th class="py-2 px-2">Polo≈æka</th>
            <th class="py-2 px-2">Model / Typ</th>
            <th class="py-2 px-2 text-right">Cena</th>
          </tr>
        </thead>
        <tbody id="techBody" class="divide-y divide-gray-100"></tbody>
        <tfoot class="bg-slate-50 font-bold text-slate-900">
          <tr>
            <td colspan="2" class="py-2 px-2 text-right">Medzis√∫ƒçet technol√≥gia:</td>
            <td class="py-2 px-2 text-right" id="techTotal">0,00 ‚Ç¨</td>
          </tr>
        </tfoot>
      </table>
      <p id="discountNote" class="text-xs text-red-500 italic mt-2 text-right"></p>
    </div>

    <div class="px-8 pb-4 print:px-4 print-section">
      <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center">
        <span class="bg-slate-200 text-slate-700 rounded w-6 h-6 flex items-center justify-center mr-2 text-xs">2</span>
        In≈°tal√°cia a materi√°l (<span id="installTypeLabel">≈†tandard</span>)
      </h3>
      <table class="w-full text-sm text-left">
        <tbody id="installBody" class="divide-y divide-gray-100"></tbody>
        <tfoot class="bg-slate-50 font-bold text-slate-900">
          <tr>
            <td class="py-2 px-2 text-right">Medzis√∫ƒçet mont√°≈æ:</td>
            <td class="py-2 px-2 text-right w-32" id="installTotal">0,00 ‚Ç¨</td>
          </tr>
        </tfoot>
      </table>
    </div>

    <div class="px-8 pb-8 print:px-4 print:pb-2 print-section">
      <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center">
        <span class="bg-slate-200 text-slate-700 rounded w-6 h-6 flex items-center justify-center mr-2 text-xs">3</span>
        Slu≈æby a uvedenie do prev√°dzky
      </h3>
      <table class="w-full text-sm text-left">
        <tbody id="servicesBody" class="divide-y divide-gray-100"></tbody>
        <tfoot class="bg-slate-50 font-bold text-slate-900">
          <tr>
            <td class="py-2 px-2 text-right">Medzis√∫ƒçet slu≈æby:</td>
            <td class="py-2 px-2 text-right w-32" id="servicesTotal">0,00 ‚Ç¨</td>
          </tr>
        </tfoot>
      </table>
    </div>

    <div class="bg-slate-50 p-8 border-t border-gray-200 print:bg-white print:p-4 print:border-none avoid-break">
      <div class="flex flex-col md:flex-row justify-between gap-8">
        
        <div class="w-full md:w-1/2">
          <h4 class="font-bold text-slate-800 text-xs uppercase mb-2">V√Ωhody rie≈°enia:</h4>
          <ul class="text-sm text-slate-600 list-disc list-inside space-y-1 mb-4" id="notesList"></ul>
          
          <div class="text-[10px] text-slate-500 border border-slate-200 p-2 rounded bg-white">
            <strong>Legislat√≠va:</strong> Cena zah≈ï≈àa recyklaƒçn√© poplatky. 
            <span id="fGasNote">Zariadenie obsahuje flu√≥rovan√© sklen√≠kov√© plyny ‚Äì in≈°tal√°ciu vykon√°va certifikovan√° osoba.</span>
          </div>
        </div>

        <div class="w-full md:w-1/2">
          <div class="bg-white p-4 rounded border border-gray-200 shadow-sm print:shadow-none print:border-slate-300">
            <div class="flex justify-between py-1 text-slate-600 text-sm">
              <span>Z√°klad bez DPH:</span>
              <span class="font-medium" id="sumNoVat">0,00 ‚Ç¨</span>
            </div>
            <div class="flex justify-between py-1 text-slate-600 text-sm border-b border-gray-100 mb-2 pb-2">
              <span>DPH (20%):</span>
              <span class="font-medium" id="sumVat">0,00 ‚Ç¨</span>
            </div>
            <div class="flex justify-between items-end py-2">
              <span class="text-slate-800 font-bold text-lg">CENA SPOLU:</span>
              <span class="text-2xl font-black text-slate-900" id="sumWithVat">0,00 ‚Ç¨</span>
            </div>

            <div class="mt-3 bg-green-50 p-3 rounded border border-green-200 print:bg-transparent print:border-green-600 print:border-dashed">
              <div class="flex justify-between text-green-800 text-sm mb-1">
                <span>Mo≈æn√° dot√°cia (Zelen√° dom.):</span>
                <span class="font-bold">- 3 400,00 ‚Ç¨</span>
              </div>
              <div class="flex justify-between text-green-900 font-bold border-t border-green-200 pt-2 mt-1">
                <span>Invest√≠cia po dot√°cii:</span>
                <span id="afterSubsidy">~ 0,00 ‚Ç¨</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="px-8 pb-8 print:px-4 print:pb-0 avoid-break">
        <div class="w-full h-48 bg-gray-100 border border-slate-200 rounded flex items-center justify-center text-slate-400 text-xs">
            (Priestor pre vizualiz√°ciu in≈°tal√°cie - pohlad.jpg)
        </div>
    </div>

    <div class="bg-slate-800 text-slate-400 p-4 text-center text-[10px] print:bg-white print:text-slate-500 print:border-t print:mt-4">
      <p class="mb-1">T√°to cenov√° ponuka je nez√°v√§zn√°. Platnos≈• cien je 30 dn√≠ od vystavenia.</p>
      <p class="font-medium print:text-slate-800">Upozornenie: Cena nezah≈ï≈àa stavebn√© √∫pravy, vyhotovenie bet√≥nov√©ho z√°kladu pod vonkaj≈°iu jednotku a pr√≠vod silovej elektriny k zariadeniu, pokiaƒæ nie je v zmluve dohodnut√© inak.</p>
      <p class="mt-2">¬© 2026 Spektra install s.r.o.</p>
    </div>

  </div>

  <script>
    // --- LOGIKA D√ÅT A V√ùPOƒåTOV ---
    
    // Form√°tovanie meny
    const fmt = (n) => Number(n).toLocaleString("sk-SK", { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + " ‚Ç¨";

    // 1. Defin√≠cia mont√°≈ænych bal√≠kov (SPLIT vs MONOBLOK)
    
    const BASE_INSTALL = [
        { label: "Odborn√° mont√°≈æ certifikovan√Ωm technikom", price: 950 },
        { label: "Elektroin≈°tal√°cia, istenie a komunikaƒçn√© prepojenie", price: 250 },
        { label: "Prestup stenou jadrov√Ωm v≈ïtan√≠m (do 40cm)", price: 80 },
        { label: "Spustenie, hydraulick√© vyv√°≈æenie a za≈°kolenie", price: 180 }
    ];

    const SPLIT_ADDONS = [
        { label: "Chladiarensk√© prepojenie Cu (v√°kuovanie, dus√≠kov√° sk√∫≈°ka)", price: 380 },
        { label: "Mont√°≈æny materi√°l (Cu potrubie, izol√°cia, konzoly, li≈°ty)", price: 650 },
        { label: "Napojenie na vykurovac√≠ syst√©m domu", price: 320 }
    ];

    const MONO_ADDONS = [
        { label: "Hydraulick√© prepojenie Exteri√©r-Interi√©r (voda/glykol)", price: 450 },
        { label: "Materi√°l (Potrubie, nemrzn√∫ca zmes, kauƒçuk izol√°cia)", price: 750 },
        { label: "Mont√°≈æ protimrazov√Ωch ventilov / k√°blov", price: 120 }
    ];

    const SERVICES = [
        { label: "Protokol o uveden√≠ do prev√°dzky (z√°ruƒçn√Ω list)", price: 120 },
        { label: "Odvoz odpadu a obalov√©ho materi√°lu", price: 60 }
    ];

    // 2. D√°ta pon√∫k
    const OFFERS = {
      mitsubishi: {
        type: 'split',
        brand: "Mitsubishi Electric ‚Äì Zubadan",
        power: "12 kW (ZUBADAN)",
        discountNote: "* Aplikovan√° zƒæava na technol√≥giu Mitsubishi.",
        tech: [
          { name: "Vonkaj≈°ia jednotka ZUBADAN 12 kW", model: "PUD-SHWM120YAA", price: 5100 },
          { name: "Vn√∫torn√° jednotka s 200l z√°sobn√≠kom", model: "ERST20D-YM9D", price: 5400 },
          { name: "Akumulaƒçn√° n√°doba 100 l (Buffer)", model: "V 100 l", price: 420 },
          { name: "Inteligentn√° regul√°cia FTC", model: "V cene", price: 0 }
        ],
        notes: ["Garantovan√Ω v√Ωkon do -15¬∞C", "Tich√Ω chod", "Japonsk√° kvalita"]
      },
      panasonic_split: {
        type: 'split',
        brand: "Panasonic ‚Äì Aquarea K Series",
        power: "9 kW",
        discountNote: "",
        tech: [
          { name: "Vonkaj≈°ia jednotka Panasonic Aquarea K", model: "WH-UDZ09KE5", price: 3100 },
          { name: "Vn√∫torn√° jednotka All-in-One (185l T√öV)", model: "WH-ADC0309K3E5", price: 4900 },
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["Modern√Ω dizajn K-Series", "Ovl√°danie cez Cloud", "Vysok√° √∫ƒçinnos≈•"]
      },
      hyundai_supreme_10: {
        type: 'split',
        brand: "Hyundai ‚Äì Supreme",
        power: "10 kW",
        discountNote: "",
        tech: [
          { name: "Vonkaj≈°ia jednotka Hyundai Supreme", model: "HPSO 10kW", price: 3100 },
          { name: "Vn√∫torn√° jednotka All-in-One (190l T√öV)", model: "HPSA 190L", price: 3400 },
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["V√Ωborn√Ω pomer cena/v√Ωkon", "ƒåierny dizajn vonkaj≈°ej jednotky"]
      },
      midea_split_12: {
        type: 'split',
        brand: "Midea ‚Äì M-Thermal Split",
        power: "12 kW",
        discountNote: "",
        tech: [
          { name: "Vonkaj≈°ia jednotka M-Thermal", model: "MHA-V12W", price: 2900 },
          { name: "Vn√∫torn√° ve≈æa (T√öV)", model: "HBT-A160", price: 3600 },
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["Osvedƒçen√° technol√≥gia", "Spoƒæahliv√Ω servis"]
      },
      midea_arctic_10: {
        type: 'monoblock', // !!! D√îLE≈ΩIT√â PRE ZMENU MONT√Å≈ΩE
        brand: "Midea ‚Äì Arctic R290 (Monoblok)",
        power: "10 kW",
        discountNote: "",
        tech: [
          { name: "Tepeln√© ƒçerpadlo Midea Arctic R290", model: "Arctic 10 kW", price: 4600 },
          { name: "Z√°sobn√≠k T√öV Dra≈æice OKC 200 NTR/HP", model: "OKC 200", price: 939 }, // Zaokr√∫hlen√©
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["Ekologick√© chladivo R290", "Voda v exteri√©ri (Monoblok)", "Vhodn√© pre rekon≈°trukcie"]
      },
      midea_arctic_12: {
        type: 'monoblock',
        brand: "Midea ‚Äì Arctic R290 (Monoblok)",
        power: "12 kW",
        discountNote: "",
        tech: [
          { name: "Tepeln√© ƒçerpadlo Midea Arctic R290", model: "Arctic 12 kW", price: 5100 },
          { name: "Z√°sobn√≠k T√öV Dra≈æice OKC 200 NTR/HP", model: "OKC 200", price: 939 }, // Zaokr√∫hlen√©
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["Vysok√Ω v√Ωkon 12kW", "Ekologick√© chladivo R290", "Bez nutnosti F-plyn kontroly"]
      }
    };

    // 3. Render funkcia
    function renderOffer(key) {
        const offer = OFFERS[key];
        
        // Update textov
        document.getElementById("brandText").textContent = offer.brand;
        document.getElementById("powerText").textContent = offer.power;
        document.getElementById("discountNote").textContent = offer.discountNote;
        
        // Odznak typu syst√©mu
        const badge = document.getElementById("systemTypeBadge");
        const installLabel = document.getElementById("installTypeLabel");
        
        if (offer.type === 'monoblock') {
            badge.textContent = "MONOBLOK (Voda)";
            badge.className = "px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-green-100 text-green-700 border border-green-200";
            installLabel.textContent = "≈†pecifikum pre Monoblok";
            document.getElementById("fGasNote").textContent = "Zariadenie obsahuje pr√≠rodn√© chladivo R290 (Prop√°n).";
        } else {
            badge.textContent = "SPLIT SYST√âM (Chladivo)";
            badge.className = "px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-blue-100 text-blue-700 border border-blue-200";
            installLabel.textContent = "Chladiarensk√° mont√°≈æ";
            document.getElementById("fGasNote").textContent = "Zariadenie obsahuje F-plyny. Vy≈æaduje sa odborn√° in≈°tal√°cia.";
        }

        // Render Technol√≥gie
        let techSum = 0;
        const techBody = document.getElementById("techBody");
        techBody.innerHTML = "";
        offer.tech.forEach(item => {
            techSum += item.price;
            techBody.innerHTML += `
                <tr>
                    <td class="py-2 px-2 font-medium text-slate-800">${item.name}</td>
                    <td class="py-2 px-2 text-slate-600">${item.model}</td>
                    <td class="py-2 px-2 text-right font-bold text-slate-900">${fmt(item.price)}</td>
                </tr>`;
        });
        document.getElementById("techTotal").textContent = fmt(techSum);

        // Render Mont√°≈æe (LOGIKA V√ùBERU)
        const installItems = offer.type === 'monoblock' 
            ? [...BASE_INSTALL, ...MONO_ADDONS] 
            : [...BASE_INSTALL, ...SPLIT_ADDONS];

        let installSum = 0;
        const installBody = document.getElementById("installBody");
        installBody.innerHTML = "";
        installItems.forEach(item => {
            installSum += item.price;
            installBody.innerHTML += `
                <tr>
                    <td class="py-2 px-2 text-slate-700 w-3/4">${item.label}</td>
                    <td class="py-2 px-2 text-right font-bold text-slate-900">${fmt(item.price)}</td>
                </tr>`;
        });
        document.getElementById("installTotal").textContent = fmt(installSum);

        // Render Slu≈æby
        let servicesSum = 0;
        const servicesBody = document.getElementById("servicesBody");
        servicesBody.innerHTML = "";
        SERVICES.forEach(item => {
            servicesSum += item.price;
            servicesBody.innerHTML += `
                <tr>
                    <td class="py-2 px-2 text-slate-700 w-3/4">${item.label}</td>
                    <td class="py-2 px-2 text-right font-bold text-slate-900">${fmt(item.price)}</td>
                </tr>`;
        });
        document.getElementById("servicesTotal").textContent = fmt(servicesSum);

        // Pozn√°mky
        const notesList = document.getElementById("notesList");
        notesList.innerHTML = "";
        offer.notes.forEach(note => {
            notesList.innerHTML += `<li>${note}</li>`;
        });

        // Totals
        const totalNoVat = techSum + installSum + servicesSum;
        const vat = totalNoVat * 0.20;
        const totalWithVat = totalNoVat + vat;
        const subsidy = 3400;

        document.getElementById("sumNoVat").textContent = fmt(totalNoVat);
        document.getElementById("sumVat").textContent = fmt(vat);
        document.getElementById("sumWithVat").textContent = fmt(totalWithVat);
        document.getElementById("afterSubsidy").textContent = "~ " + fmt(Math.max(0, totalWithVat - subsidy));
    }

    // --- INTERAKTIVITA ---
    document.getElementById("offerSelect").addEventListener("change", (e) => renderOffer(e.target.value));
    
    // D√°tum
    const d = new Date();
    document.getElementById("date").textContent = d.toLocaleDateString('sk-SK', { day: 'numeric', month: 'long', year: 'numeric' });

    // Z√°kazn√≠k input
    document.getElementById("customerInput").addEventListener("input", (e) => {
        document.getElementById("customerDisplay").textContent = e.target.value;
    });
    
    // ƒå√≠slo ponuky input
    document.getElementById("offerNumberInput").addEventListener("input", (e) => {
        document.getElementById("offerNumberDisplay").textContent = e.target.value || "2026/001";
    });

    // Init
    renderOffer("mitsubishi");

  </script>
</body>
</html><!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cenov√° ponuka ‚Äì Tepeln√© ƒçerpadlo (Opraven√° verzia)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; }

    /* ================= PRINT ≈†T√ùLY ================= */
    @media print {
      @page { size: A4; margin: 10mm; }
      html, body {
        background: #ffffff !important;
        color: #0f172a !important;
        font-size: 10pt !important; /* Mierne zmen≈°en√© p√≠smo, aby sa v≈°etko zmestilo */
        line-height: 1.3 !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
      }
      .no-print { display: none !important; }
      .shadow-xl, .shadow-lg { box-shadow: none !important; }
      .rounded-lg { border-radius: 0 !important; }
      
      /* Header layout pre tlaƒç */
      .header-row { 
        display: flex !important; 
        flex-direction: row !important; 
        justify-content: space-between !important;
        gap: 10mm !important;
      }
      .header-left  { width: 60% !important; }
      .header-right { width: 40% !important; text-align: right !important; }

      /* Tabuƒæky */
      table { width: 100% !important; border-collapse: collapse !important; }
      th, td { padding: 4px 8px !important; border-bottom: 1px solid #e2e8f0 !important; }
      tr { page-break-inside: avoid !important; }
      
      /* Farby */
      .bg-slate-800 { background: #0f172a !important; color: white !important; }
      .text-red-400 { color: #ef4444 !important; }
      
      /* Sekcie */
      .print-section { margin-bottom: 5mm !important; }
      .avoid-break { page-break-inside: avoid !important; }
    }
  </style>
</head>

<body class="bg-gray-100 p-4 md:p-8 text-slate-800">

  <div class="max-w-4xl mx-auto bg-white shadow-xl rounded-lg overflow-hidden">

    <div class="bg-slate-800 text-white p-8 print:p-6">
      <div class="flex flex-col md:flex-row justify-between items-start gap-6 header-row">
        
        <div class="header-left w-full md:w-2/3">
          <h1 class="text-3xl font-extrabold tracking-wide uppercase leading-none">Cenov√° ponuka</h1>
          <div class="flex items-center gap-2 mt-2">
            <span class="text-red-400 font-bold text-lg" id="offerNumberDisplay">2026/001</span>
            <span class="text-slate-400 text-sm">| N√°vrh syst√©mu vykurovania</span>
          </div>

          <div class="mt-4 text-xs text-slate-400">
            <p>D√°tum vystavenia: <span id="date" class="text-slate-300 font-medium"></span></p>
            <p>Platnos≈• ponuky: 30 dn√≠</p>
          </div>

          <div class="mt-6">
            <p class="text-[10px] uppercase text-slate-500 font-bold mb-1 tracking-widest">Z√°kazn√≠k / Odberateƒæ</p>
            <div id="customerDisplay" class="text-sm font-semibold whitespace-pre-line text-white leading-relaxed">V√°≈æen√Ω z√°kazn√≠k
Ulica 123
000 00 Mesto</div>
          </div>

          <div class="no-print mt-6 p-4 bg-slate-700/50 rounded border border-slate-600">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
              <input type="text" id="offerNumberInput" class="rounded bg-slate-800 border border-slate-500 px-2 py-1 text-xs text-white" placeholder="ƒå√≠slo ponuky" value="2026/001">
              <select id="offerSelect" class="rounded bg-slate-800 border border-slate-500 px-2 py-1 text-xs text-white">
                <option value="mitsubishi">Mitsubishi Zubadan 12 kW (Split)</option>
                <option value="panasonic_split">Panasonic Aquarea K 9 kW (Split)</option>
                <option value="hyundai_supreme_10">Hyundai Supreme 10 kW (Split)</option>
                <option value="midea_split_12">Midea M-Thermal 12 kW (Split)</option>
                <option value="midea_arctic_10">Midea Arctic 10 kW (MONOBLOK)</option>
                <option value="midea_arctic_12">Midea Arctic 12 kW (MONOBLOK)</option>
              </select>
            </div>
            <textarea id="customerInput" rows="2" class="w-full rounded bg-slate-800 border border-slate-500 px-2 py-1 text-xs text-white mb-3" placeholder="Z√°kazn√≠k...">V√°≈æen√Ω z√°kazn√≠k
Ulica 123
000 00 Mesto</textarea>
            <button onclick="window.print()" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded text-sm transition">üñ®Ô∏è Vytlaƒçi≈• / Ulo≈æi≈• PDF</button>
          </div>
        </div>

        <div class="header-right w-full md:w-1/3 md:text-right">
          <div class="text-2xl font-bold text-white mb-1">Spektra install s.r.o.</div>
          <div class="text-sm text-slate-300 space-y-0.5">
            <p>Holl√©ho 210, 015 01 Rajec</p>
            <p class="text-red-400 font-medium mt-1">spektrainstall@gmail.com</p>
            <p class="font-medium">0917 572 221</p>
          </div>
          <div class="mt-6 flex md:justify-end">
             <div class="h-16 w-32 bg-white/10 flex items-center justify-center text-xs text-slate-500 border border-slate-600 rounded">LOGO</div>
          </div>
        </div>
      </div>
    </div>

    <div class="p-8 border-b border-gray-200 print:p-4 print-section">
      <div class="flex items-center gap-4 mb-4">
         <h2 class="text-lg font-bold text-slate-800 uppercase tracking-wide">≈†pecifik√°cia rie≈°enia</h2>
         <span id="systemTypeBadge" class="px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-blue-100 text-blue-700 border border-blue-200">Split Syst√©m</span>
      </div>
      
      <div class="grid grid-cols-2 gap-8 text-sm">
        <div>
          <p class="text-slate-500 text-[10px] uppercase font-bold tracking-wider mb-0.5">Zvolen√° technol√≥gia</p>
          <p class="font-bold text-slate-900 text-base" id="brandText">-</p>
        </div>
        <div>
          <p class="text-slate-500 text-[10px] uppercase font-bold tracking-wider mb-0.5">Nomin√°lny v√Ωkon</p>
          <p class="font-bold text-slate-900 text-base" id="powerText">-</p>
        </div>
      </div>
    </div>

    <div class="p-8 print:p-4 print-section">
      <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center">
        <span class="bg-slate-200 text-slate-700 rounded w-6 h-6 flex items-center justify-center mr-2 text-xs">1</span>
        Dod√°vka technol√≥gie
      </h3>
      <table class="w-full text-sm text-left">
        <thead class="text-xs text-slate-500 uppercase bg-slate-50 border-b">
          <tr>
            <th class="py-2 px-2">Polo≈æka</th>
            <th class="py-2 px-2">Model / Typ</th>
            <th class="py-2 px-2 text-right">Cena</th>
          </tr>
        </thead>
        <tbody id="techBody" class="divide-y divide-gray-100"></tbody>
        <tfoot class="bg-slate-50 font-bold text-slate-900">
          <tr>
            <td colspan="2" class="py-2 px-2 text-right">Medzis√∫ƒçet technol√≥gia:</td>
            <td class="py-2 px-2 text-right" id="techTotal">0,00 ‚Ç¨</td>
          </tr>
        </tfoot>
      </table>
      <p id="discountNote" class="text-xs text-red-500 italic mt-2 text-right"></p>
    </div>

    <div class="px-8 pb-4 print:px-4 print-section">
      <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center">
        <span class="bg-slate-200 text-slate-700 rounded w-6 h-6 flex items-center justify-center mr-2 text-xs">2</span>
        In≈°tal√°cia a materi√°l (<span id="installTypeLabel">≈†tandard</span>)
      </h3>
      <table class="w-full text-sm text-left">
        <tbody id="installBody" class="divide-y divide-gray-100"></tbody>
        <tfoot class="bg-slate-50 font-bold text-slate-900">
          <tr>
            <td class="py-2 px-2 text-right">Medzis√∫ƒçet mont√°≈æ:</td>
            <td class="py-2 px-2 text-right w-32" id="installTotal">0,00 ‚Ç¨</td>
          </tr>
        </tfoot>
      </table>
    </div>

    <div class="px-8 pb-8 print:px-4 print:pb-2 print-section">
      <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center">
        <span class="bg-slate-200 text-slate-700 rounded w-6 h-6 flex items-center justify-center mr-2 text-xs">3</span>
        Slu≈æby a uvedenie do prev√°dzky
      </h3>
      <table class="w-full text-sm text-left">
        <tbody id="servicesBody" class="divide-y divide-gray-100"></tbody>
        <tfoot class="bg-slate-50 font-bold text-slate-900">
          <tr>
            <td class="py-2 px-2 text-right">Medzis√∫ƒçet slu≈æby:</td>
            <td class="py-2 px-2 text-right w-32" id="servicesTotal">0,00 ‚Ç¨</td>
          </tr>
        </tfoot>
      </table>
    </div>

    <div class="bg-slate-50 p-8 border-t border-gray-200 print:bg-white print:p-4 print:border-none avoid-break">
      <div class="flex flex-col md:flex-row justify-between gap-8">
        
        <div class="w-full md:w-1/2">
          <h4 class="font-bold text-slate-800 text-xs uppercase mb-2">V√Ωhody rie≈°enia:</h4>
          <ul class="text-sm text-slate-600 list-disc list-inside space-y-1 mb-4" id="notesList"></ul>
          
          <div class="text-[10px] text-slate-500 border border-slate-200 p-2 rounded bg-white">
            <strong>Legislat√≠va:</strong> Cena zah≈ï≈àa recyklaƒçn√© poplatky. 
            <span id="fGasNote">Zariadenie obsahuje flu√≥rovan√© sklen√≠kov√© plyny ‚Äì in≈°tal√°ciu vykon√°va certifikovan√° osoba.</span>
          </div>
        </div>

        <div class="w-full md:w-1/2">
          <div class="bg-white p-4 rounded border border-gray-200 shadow-sm print:shadow-none print:border-slate-300">
            <div class="flex justify-between py-1 text-slate-600 text-sm">
              <span>Z√°klad bez DPH:</span>
              <span class="font-medium" id="sumNoVat">0,00 ‚Ç¨</span>
            </div>
            <div class="flex justify-between py-1 text-slate-600 text-sm border-b border-gray-100 mb-2 pb-2">
              <span>DPH (20%):</span>
              <span class="font-medium" id="sumVat">0,00 ‚Ç¨</span>
            </div>
            <div class="flex justify-between items-end py-2">
              <span class="text-slate-800 font-bold text-lg">CENA SPOLU:</span>
              <span class="text-2xl font-black text-slate-900" id="sumWithVat">0,00 ‚Ç¨</span>
            </div>

            <div class="mt-3 bg-green-50 p-3 rounded border border-green-200 print:bg-transparent print:border-green-600 print:border-dashed">
              <div class="flex justify-between text-green-800 text-sm mb-1">
                <span>Mo≈æn√° dot√°cia (Zelen√° dom.):</span>
                <span class="font-bold">- 3 400,00 ‚Ç¨</span>
              </div>
              <div class="flex justify-between text-green-900 font-bold border-t border-green-200 pt-2 mt-1">
                <span>Invest√≠cia po dot√°cii:</span>
                <span id="afterSubsidy">~ 0,00 ‚Ç¨</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="px-8 pb-8 print:px-4 print:pb-0 avoid-break">
        <div class="w-full h-48 bg-gray-100 border border-slate-200 rounded flex items-center justify-center text-slate-400 text-xs">
            (Priestor pre vizualiz√°ciu in≈°tal√°cie - pohlad.jpg)
        </div>
    </div>

    <div class="bg-slate-800 text-slate-400 p-4 text-center text-[10px] print:bg-white print:text-slate-500 print:border-t print:mt-4">
      <p class="mb-1">T√°to cenov√° ponuka je nez√°v√§zn√°. Platnos≈• cien je 30 dn√≠ od vystavenia.</p>
      <p class="font-medium print:text-slate-800">Upozornenie: Cena nezah≈ï≈àa stavebn√© √∫pravy, vyhotovenie bet√≥nov√©ho z√°kladu pod vonkaj≈°iu jednotku a pr√≠vod silovej elektriny k zariadeniu, pokiaƒæ nie je v zmluve dohodnut√© inak.</p>
      <p class="mt-2">¬© 2026 Spektra install s.r.o.</p>
    </div>

  </div>

  <script>
    // --- LOGIKA D√ÅT A V√ùPOƒåTOV ---
    
    // Form√°tovanie meny
    const fmt = (n) => Number(n).toLocaleString("sk-SK", { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + " ‚Ç¨";

    // 1. Defin√≠cia mont√°≈ænych bal√≠kov (SPLIT vs MONOBLOK)
    
    const BASE_INSTALL = [
        { label: "Odborn√° mont√°≈æ certifikovan√Ωm technikom", price: 950 },
        { label: "Elektroin≈°tal√°cia, istenie a komunikaƒçn√© prepojenie", price: 250 },
        { label: "Prestup stenou jadrov√Ωm v≈ïtan√≠m (do 40cm)", price: 80 },
        { label: "Spustenie, hydraulick√© vyv√°≈æenie a za≈°kolenie", price: 180 }
    ];

    const SPLIT_ADDONS = [
        { label: "Chladiarensk√© prepojenie Cu (v√°kuovanie, dus√≠kov√° sk√∫≈°ka)", price: 380 },
        { label: "Mont√°≈æny materi√°l (Cu potrubie, izol√°cia, konzoly, li≈°ty)", price: 650 },
        { label: "Napojenie na vykurovac√≠ syst√©m domu", price: 320 }
    ];

    const MONO_ADDONS = [
        { label: "Hydraulick√© prepojenie Exteri√©r-Interi√©r (voda/glykol)", price: 450 },
        { label: "Materi√°l (Potrubie, nemrzn√∫ca zmes, kauƒçuk izol√°cia)", price: 750 },
        { label: "Mont√°≈æ protimrazov√Ωch ventilov / k√°blov", price: 120 }
    ];

    const SERVICES = [
        { label: "Protokol o uveden√≠ do prev√°dzky (z√°ruƒçn√Ω list)", price: 120 },
        { label: "Odvoz odpadu a obalov√©ho materi√°lu", price: 60 }
    ];

    // 2. D√°ta pon√∫k
    const OFFERS = {
      mitsubishi: {
        type: 'split',
        brand: "Mitsubishi Electric ‚Äì Zubadan",
        power: "12 kW (ZUBADAN)",
        discountNote: "* Aplikovan√° zƒæava na technol√≥giu Mitsubishi.",
        tech: [
          { name: "Vonkaj≈°ia jednotka ZUBADAN 12 kW", model: "PUD-SHWM120YAA", price: 5100 },
          { name: "Vn√∫torn√° jednotka s 200l z√°sobn√≠kom", model: "ERST20D-YM9D", price: 5400 },
          { name: "Akumulaƒçn√° n√°doba 100 l (Buffer)", model: "V 100 l", price: 420 },
          { name: "Inteligentn√° regul√°cia FTC", model: "V cene", price: 0 }
        ],
        notes: ["Garantovan√Ω v√Ωkon do -15¬∞C", "Tich√Ω chod", "Japonsk√° kvalita"]
      },
      panasonic_split: {
        type: 'split',
        brand: "Panasonic ‚Äì Aquarea K Series",
        power: "9 kW",
        discountNote: "",
        tech: [
          { name: "Vonkaj≈°ia jednotka Panasonic Aquarea K", model: "WH-UDZ09KE5", price: 3100 },
          { name: "Vn√∫torn√° jednotka All-in-One (185l T√öV)", model: "WH-ADC0309K3E5", price: 4900 },
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["Modern√Ω dizajn K-Series", "Ovl√°danie cez Cloud", "Vysok√° √∫ƒçinnos≈•"]
      },
      hyundai_supreme_10: {
        type: 'split',
        brand: "Hyundai ‚Äì Supreme",
        power: "10 kW",
        discountNote: "",
        tech: [
          { name: "Vonkaj≈°ia jednotka Hyundai Supreme", model: "HPSO 10kW", price: 3100 },
          { name: "Vn√∫torn√° jednotka All-in-One (190l T√öV)", model: "HPSA 190L", price: 3400 },
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["V√Ωborn√Ω pomer cena/v√Ωkon", "ƒåierny dizajn vonkaj≈°ej jednotky"]
      },
      midea_split_12: {
        type: 'split',
        brand: "Midea ‚Äì M-Thermal Split",
        power: "12 kW",
        discountNote: "",
        tech: [
          { name: "Vonkaj≈°ia jednotka M-Thermal", model: "MHA-V12W", price: 2900 },
          { name: "Vn√∫torn√° ve≈æa (T√öV)", model: "HBT-A160", price: 3600 },
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["Osvedƒçen√° technol√≥gia", "Spoƒæahliv√Ω servis"]
      },
      midea_arctic_10: {
        type: 'monoblock', // !!! D√îLE≈ΩIT√â PRE ZMENU MONT√Å≈ΩE
        brand: "Midea ‚Äì Arctic R290 (Monoblok)",
        power: "10 kW",
        discountNote: "",
        tech: [
          { name: "Tepeln√© ƒçerpadlo Midea Arctic R290", model: "Arctic 10 kW", price: 4600 },
          { name: "Z√°sobn√≠k T√öV Dra≈æice OKC 200 NTR/HP", model: "OKC 200", price: 939 }, // Zaokr√∫hlen√©
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["Ekologick√© chladivo R290", "Voda v exteri√©ri (Monoblok)", "Vhodn√© pre rekon≈°trukcie"]
      },
      midea_arctic_12: {
        type: 'monoblock',
        brand: "Midea ‚Äì Arctic R290 (Monoblok)",
        power: "12 kW",
        discountNote: "",
        tech: [
          { name: "Tepeln√© ƒçerpadlo Midea Arctic R290", model: "Arctic 12 kW", price: 5100 },
          { name: "Z√°sobn√≠k T√öV Dra≈æice OKC 200 NTR/HP", model: "OKC 200", price: 939 }, // Zaokr√∫hlen√©
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["Vysok√Ω v√Ωkon 12kW", "Ekologick√© chladivo R290", "Bez nutnosti F-plyn kontroly"]
      }
    };

    // 3. Render funkcia
    function renderOffer(key) {
        const offer = OFFERS[key];
        
        // Update textov
        document.getElementById("brandText").textContent = offer.brand;
        document.getElementById("powerText").textContent = offer.power;
        document.getElementById("discountNote").textContent = offer.discountNote;
        
        // Odznak typu syst√©mu
        const badge = document.getElementById("systemTypeBadge");
        const installLabel = document.getElementById("installTypeLabel");
        
        if (offer.type === 'monoblock') {
            badge.textContent = "MONOBLOK (Voda)";
            badge.className = "px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-green-100 text-green-700 border border-green-200";
            installLabel.textContent = "≈†pecifikum pre Monoblok";
            document.getElementById("fGasNote").textContent = "Zariadenie obsahuje pr√≠rodn√© chladivo R290 (Prop√°n).";
        } else {
            badge.textContent = "SPLIT SYST√âM (Chladivo)";
            badge.className = "px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-blue-100 text-blue-700 border border-blue-200";
            installLabel.textContent = "Chladiarensk√° mont√°≈æ";
            document.getElementById("fGasNote").textContent = "Zariadenie obsahuje F-plyny. Vy≈æaduje sa odborn√° in≈°tal√°cia.";
        }

        // Render Technol√≥gie
        let techSum = 0;
        const techBody = document.getElementById("techBody");
        techBody.innerHTML = "";
        offer.tech.forEach(item => {
            techSum += item.price;
            techBody.innerHTML += `
                <tr>
                    <td class="py-2 px-2 font-medium text-slate-800">${item.name}</td>
                    <td class="py-2 px-2 text-slate-600">${item.model}</td>
                    <td class="py-2 px-2 text-right font-bold text-slate-900">${fmt(item.price)}</td>
                </tr>`;
        });
        document.getElementById("techTotal").textContent = fmt(techSum);

        // Render Mont√°≈æe (LOGIKA V√ùBERU)
        const installItems = offer.type === 'monoblock' 
            ? [...BASE_INSTALL, ...MONO_ADDONS] 
            : [...BASE_INSTALL, ...SPLIT_ADDONS];

        let installSum = 0;
        const installBody = document.getElementById("installBody");
        installBody.innerHTML = "";
        installItems.forEach(item => {
            installSum += item.price;
            installBody.innerHTML += `
                <tr>
                    <td class="py-2 px-2 text-slate-700 w-3/4">${item.label}</td>
                    <td class="py-2 px-2 text-right font-bold text-slate-900">${fmt(item.price)}</td>
                </tr>`;
        });
        document.getElementById("installTotal").textContent = fmt(installSum);

        // Render Slu≈æby
        let servicesSum = 0;
        const servicesBody = document.getElementById("servicesBody");
        servicesBody.innerHTML = "";
        SERVICES.forEach(item => {
            servicesSum += item.price;
            servicesBody.innerHTML += `
                <tr>
                    <td class="py-2 px-2 text-slate-700 w-3/4">${item.label}</td>
                    <td class="py-2 px-2 text-right font-bold text-slate-900">${fmt(item.price)}</td>
                </tr>`;
        });
        document.getElementById("servicesTotal").textContent = fmt(servicesSum);

        // Pozn√°mky
        const notesList = document.getElementById("notesList");
        notesList.innerHTML = "";
        offer.notes.forEach(note => {
            notesList.innerHTML += `<li>${note}</li>`;
        });

        // Totals
        const totalNoVat = techSum + installSum + servicesSum;
        const vat = totalNoVat * 0.20;
        const totalWithVat = totalNoVat + vat;
        const subsidy = 3400;

        document.getElementById("sumNoVat").textContent = fmt(totalNoVat);
        document.getElementById("sumVat").textContent = fmt(vat);
        document.getElementById("sumWithVat").textContent = fmt(totalWithVat);
        document.getElementById("afterSubsidy").textContent = "~ " + fmt(Math.max(0, totalWithVat - subsidy));
    }

    // --- INTERAKTIVITA ---
    document.getElementById("offerSelect").addEventListener("change", (e) => renderOffer(e.target.value));
    
    // D√°tum
    const d = new Date();
    document.getElementById("date").textContent = d.toLocaleDateString('sk-SK', { day: 'numeric', month: 'long', year: 'numeric' });

    // Z√°kazn√≠k input
    document.getElementById("customerInput").addEventListener("input", (e) => {
        document.getElementById("customerDisplay").textContent = e.target.value;
    });
    
    // ƒå√≠slo ponuky input
    document.getElementById("offerNumberInput").addEventListener("input", (e) => {
        document.getElementById("offerNumberDisplay").textContent = e.target.value || "2026/001";
    });

    // Init
    renderOffer("mitsubishi");

  </script>
</body>
</html><!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cenov√° ponuka ‚Äì Tepeln√© ƒçerpadlo (Opraven√° verzia)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; }

    /* ================= PRINT ≈†T√ùLY ================= */
    @media print {
      @page { size: A4; margin: 10mm; }
      html, body {
        background: #ffffff !important;
        color: #0f172a !important;
        font-size: 10pt !important; /* Mierne zmen≈°en√© p√≠smo, aby sa v≈°etko zmestilo */
        line-height: 1.3 !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
      }
      .no-print { display: none !important; }
      .shadow-xl, .shadow-lg { box-shadow: none !important; }
      .rounded-lg { border-radius: 0 !important; }
      
      /* Header layout pre tlaƒç */
      .header-row { 
        display: flex !important; 
        flex-direction: row !important; 
        justify-content: space-between !important;
        gap: 10mm !important;
      }
      .header-left  { width: 60% !important; }
      .header-right { width: 40% !important; text-align: right !important; }

      /* Tabuƒæky */
      table { width: 100% !important; border-collapse: collapse !important; }
      th, td { padding: 4px 8px !important; border-bottom: 1px solid #e2e8f0 !important; }
      tr { page-break-inside: avoid !important; }
      
      /* Farby */
      .bg-slate-800 { background: #0f172a !important; color: white !important; }
      .text-red-400 { color: #ef4444 !important; }
      
      /* Sekcie */
      .print-section { margin-bottom: 5mm !important; }
      .avoid-break { page-break-inside: avoid !important; }
    }
  </style>
</head>

<body class="bg-gray-100 p-4 md:p-8 text-slate-800">

  <div class="max-w-4xl mx-auto bg-white shadow-xl rounded-lg overflow-hidden">

    <div class="bg-slate-800 text-white p-8 print:p-6">
      <div class="flex flex-col md:flex-row justify-between items-start gap-6 header-row">
        
        <div class="header-left w-full md:w-2/3">
          <h1 class="text-3xl font-extrabold tracking-wide uppercase leading-none">Cenov√° ponuka</h1>
          <div class="flex items-center gap-2 mt-2">
            <span class="text-red-400 font-bold text-lg" id="offerNumberDisplay">2026/001</span>
            <span class="text-slate-400 text-sm">| N√°vrh syst√©mu vykurovania</span>
          </div>

          <div class="mt-4 text-xs text-slate-400">
            <p>D√°tum vystavenia: <span id="date" class="text-slate-300 font-medium"></span></p>
            <p>Platnos≈• ponuky: 30 dn√≠</p>
          </div>

          <div class="mt-6">
            <p class="text-[10px] uppercase text-slate-500 font-bold mb-1 tracking-widest">Z√°kazn√≠k / Odberateƒæ</p>
            <div id="customerDisplay" class="text-sm font-semibold whitespace-pre-line text-white leading-relaxed">V√°≈æen√Ω z√°kazn√≠k
Ulica 123
000 00 Mesto</div>
          </div>

          <div class="no-print mt-6 p-4 bg-slate-700/50 rounded border border-slate-600">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
              <input type="text" id="offerNumberInput" class="rounded bg-slate-800 border border-slate-500 px-2 py-1 text-xs text-white" placeholder="ƒå√≠slo ponuky" value="2026/001">
              <select id="offerSelect" class="rounded bg-slate-800 border border-slate-500 px-2 py-1 text-xs text-white">
                <option value="mitsubishi">Mitsubishi Zubadan 12 kW (Split)</option>
                <option value="panasonic_split">Panasonic Aquarea K 9 kW (Split)</option>
                <option value="hyundai_supreme_10">Hyundai Supreme 10 kW (Split)</option>
                <option value="midea_split_12">Midea M-Thermal 12 kW (Split)</option>
                <option value="midea_arctic_10">Midea Arctic 10 kW (MONOBLOK)</option>
                <option value="midea_arctic_12">Midea Arctic 12 kW (MONOBLOK)</option>
              </select>
            </div>
            <textarea id="customerInput" rows="2" class="w-full rounded bg-slate-800 border border-slate-500 px-2 py-1 text-xs text-white mb-3" placeholder="Z√°kazn√≠k...">V√°≈æen√Ω z√°kazn√≠k
Ulica 123
000 00 Mesto</textarea>
            <button onclick="window.print()" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded text-sm transition">üñ®Ô∏è Vytlaƒçi≈• / Ulo≈æi≈• PDF</button>
          </div>
        </div>

        <div class="header-right w-full md:w-1/3 md:text-right">
          <div class="text-2xl font-bold text-white mb-1">Spektra install s.r.o.</div>
          <div class="text-sm text-slate-300 space-y-0.5">
            <p>Holl√©ho 210, 015 01 Rajec</p>
            <p class="text-red-400 font-medium mt-1">spektrainstall@gmail.com</p>
            <p class="font-medium">0917 572 221</p>
          </div>
          <div class="mt-6 flex md:justify-end">
             <div class="h-16 w-32 bg-white/10 flex items-center justify-center text-xs text-slate-500 border border-slate-600 rounded">LOGO</div>
          </div>
        </div>
      </div>
    </div>

    <div class="p-8 border-b border-gray-200 print:p-4 print-section">
      <div class="flex items-center gap-4 mb-4">
         <h2 class="text-lg font-bold text-slate-800 uppercase tracking-wide">≈†pecifik√°cia rie≈°enia</h2>
         <span id="systemTypeBadge" class="px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-blue-100 text-blue-700 border border-blue-200">Split Syst√©m</span>
      </div>
      
      <div class="grid grid-cols-2 gap-8 text-sm">
        <div>
          <p class="text-slate-500 text-[10px] uppercase font-bold tracking-wider mb-0.5">Zvolen√° technol√≥gia</p>
          <p class="font-bold text-slate-900 text-base" id="brandText">-</p>
        </div>
        <div>
          <p class="text-slate-500 text-[10px] uppercase font-bold tracking-wider mb-0.5">Nomin√°lny v√Ωkon</p>
          <p class="font-bold text-slate-900 text-base" id="powerText">-</p>
        </div>
      </div>
    </div>

    <div class="p-8 print:p-4 print-section">
      <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center">
        <span class="bg-slate-200 text-slate-700 rounded w-6 h-6 flex items-center justify-center mr-2 text-xs">1</span>
        Dod√°vka technol√≥gie
      </h3>
      <table class="w-full text-sm text-left">
        <thead class="text-xs text-slate-500 uppercase bg-slate-50 border-b">
          <tr>
            <th class="py-2 px-2">Polo≈æka</th>
            <th class="py-2 px-2">Model / Typ</th>
            <th class="py-2 px-2 text-right">Cena</th>
          </tr>
        </thead>
        <tbody id="techBody" class="divide-y divide-gray-100"></tbody>
        <tfoot class="bg-slate-50 font-bold text-slate-900">
          <tr>
            <td colspan="2" class="py-2 px-2 text-right">Medzis√∫ƒçet technol√≥gia:</td>
            <td class="py-2 px-2 text-right" id="techTotal">0,00 ‚Ç¨</td>
          </tr>
        </tfoot>
      </table>
      <p id="discountNote" class="text-xs text-red-500 italic mt-2 text-right"></p>
    </div>

    <div class="px-8 pb-4 print:px-4 print-section">
      <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center">
        <span class="bg-slate-200 text-slate-700 rounded w-6 h-6 flex items-center justify-center mr-2 text-xs">2</span>
        In≈°tal√°cia a materi√°l (<span id="installTypeLabel">≈†tandard</span>)
      </h3>
      <table class="w-full text-sm text-left">
        <tbody id="installBody" class="divide-y divide-gray-100"></tbody>
        <tfoot class="bg-slate-50 font-bold text-slate-900">
          <tr>
            <td class="py-2 px-2 text-right">Medzis√∫ƒçet mont√°≈æ:</td>
            <td class="py-2 px-2 text-right w-32" id="installTotal">0,00 ‚Ç¨</td>
          </tr>
        </tfoot>
      </table>
    </div>

    <div class="px-8 pb-8 print:px-4 print:pb-2 print-section">
      <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center">
        <span class="bg-slate-200 text-slate-700 rounded w-6 h-6 flex items-center justify-center mr-2 text-xs">3</span>
        Slu≈æby a uvedenie do prev√°dzky
      </h3>
      <table class="w-full text-sm text-left">
        <tbody id="servicesBody" class="divide-y divide-gray-100"></tbody>
        <tfoot class="bg-slate-50 font-bold text-slate-900">
          <tr>
            <td class="py-2 px-2 text-right">Medzis√∫ƒçet slu≈æby:</td>
            <td class="py-2 px-2 text-right w-32" id="servicesTotal">0,00 ‚Ç¨</td>
          </tr>
        </tfoot>
      </table>
    </div>

    <div class="bg-slate-50 p-8 border-t border-gray-200 print:bg-white print:p-4 print:border-none avoid-break">
      <div class="flex flex-col md:flex-row justify-between gap-8">
        
        <div class="w-full md:w-1/2">
          <h4 class="font-bold text-slate-800 text-xs uppercase mb-2">V√Ωhody rie≈°enia:</h4>
          <ul class="text-sm text-slate-600 list-disc list-inside space-y-1 mb-4" id="notesList"></ul>
          
          <div class="text-[10px] text-slate-500 border border-slate-200 p-2 rounded bg-white">
            <strong>Legislat√≠va:</strong> Cena zah≈ï≈àa recyklaƒçn√© poplatky. 
            <span id="fGasNote">Zariadenie obsahuje flu√≥rovan√© sklen√≠kov√© plyny ‚Äì in≈°tal√°ciu vykon√°va certifikovan√° osoba.</span>
          </div>
        </div>

        <div class="w-full md:w-1/2">
          <div class="bg-white p-4 rounded border border-gray-200 shadow-sm print:shadow-none print:border-slate-300">
            <div class="flex justify-between py-1 text-slate-600 text-sm">
              <span>Z√°klad bez DPH:</span>
              <span class="font-medium" id="sumNoVat">0,00 ‚Ç¨</span>
            </div>
            <div class="flex justify-between py-1 text-slate-600 text-sm border-b border-gray-100 mb-2 pb-2">
              <span>DPH (20%):</span>
              <span class="font-medium" id="sumVat">0,00 ‚Ç¨</span>
            </div>
            <div class="flex justify-between items-end py-2">
              <span class="text-slate-800 font-bold text-lg">CENA SPOLU:</span>
              <span class="text-2xl font-black text-slate-900" id="sumWithVat">0,00 ‚Ç¨</span>
            </div>

            <div class="mt-3 bg-green-50 p-3 rounded border border-green-200 print:bg-transparent print:border-green-600 print:border-dashed">
              <div class="flex justify-between text-green-800 text-sm mb-1">
                <span>Mo≈æn√° dot√°cia (Zelen√° dom.):</span>
                <span class="font-bold">- 3 400,00 ‚Ç¨</span>
              </div>
              <div class="flex justify-between text-green-900 font-bold border-t border-green-200 pt-2 mt-1">
                <span>Invest√≠cia po dot√°cii:</span>
                <span id="afterSubsidy">~ 0,00 ‚Ç¨</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="px-8 pb-8 print:px-4 print:pb-0 avoid-break">
        <div class="w-full h-48 bg-gray-100 border border-slate-200 rounded flex items-center justify-center text-slate-400 text-xs">
            (Priestor pre vizualiz√°ciu in≈°tal√°cie - pohlad.jpg)
        </div>
    </div>

    <div class="bg-slate-800 text-slate-400 p-4 text-center text-[10px] print:bg-white print:text-slate-500 print:border-t print:mt-4">
      <p class="mb-1">T√°to cenov√° ponuka je nez√°v√§zn√°. Platnos≈• cien je 30 dn√≠ od vystavenia.</p>
      <p class="font-medium print:text-slate-800">Upozornenie: Cena nezah≈ï≈àa stavebn√© √∫pravy, vyhotovenie bet√≥nov√©ho z√°kladu pod vonkaj≈°iu jednotku a pr√≠vod silovej elektriny k zariadeniu, pokiaƒæ nie je v zmluve dohodnut√© inak.</p>
      <p class="mt-2">¬© 2026 Spektra install s.r.o.</p>
    </div>

  </div>

  <script>
    // --- LOGIKA D√ÅT A V√ùPOƒåTOV ---
    
    // Form√°tovanie meny
    const fmt = (n) => Number(n).toLocaleString("sk-SK", { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + " ‚Ç¨";

    // 1. Defin√≠cia mont√°≈ænych bal√≠kov (SPLIT vs MONOBLOK)
    
    const BASE_INSTALL = [
        { label: "Odborn√° mont√°≈æ certifikovan√Ωm technikom", price: 950 },
        { label: "Elektroin≈°tal√°cia, istenie a komunikaƒçn√© prepojenie", price: 250 },
        { label: "Prestup stenou jadrov√Ωm v≈ïtan√≠m (do 40cm)", price: 80 },
        { label: "Spustenie, hydraulick√© vyv√°≈æenie a za≈°kolenie", price: 180 }
    ];

    const SPLIT_ADDONS = [
        { label: "Chladiarensk√© prepojenie Cu (v√°kuovanie, dus√≠kov√° sk√∫≈°ka)", price: 380 },
        { label: "Mont√°≈æny materi√°l (Cu potrubie, izol√°cia, konzoly, li≈°ty)", price: 650 },
        { label: "Napojenie na vykurovac√≠ syst√©m domu", price: 320 }
    ];

    const MONO_ADDONS = [
        { label: "Hydraulick√© prepojenie Exteri√©r-Interi√©r (voda/glykol)", price: 450 },
        { label: "Materi√°l (Potrubie, nemrzn√∫ca zmes, kauƒçuk izol√°cia)", price: 750 },
        { label: "Mont√°≈æ protimrazov√Ωch ventilov / k√°blov", price: 120 }
    ];

    const SERVICES = [
        { label: "Protokol o uveden√≠ do prev√°dzky (z√°ruƒçn√Ω list)", price: 120 },
        { label: "Odvoz odpadu a obalov√©ho materi√°lu", price: 60 }
    ];

    // 2. D√°ta pon√∫k
    const OFFERS = {
      mitsubishi: {
        type: 'split',
        brand: "Mitsubishi Electric ‚Äì Zubadan",
        power: "12 kW (ZUBADAN)",
        discountNote: "* Aplikovan√° zƒæava na technol√≥giu Mitsubishi.",
        tech: [
          { name: "Vonkaj≈°ia jednotka ZUBADAN 12 kW", model: "PUD-SHWM120YAA", price: 5100 },
          { name: "Vn√∫torn√° jednotka s 200l z√°sobn√≠kom", model: "ERST20D-YM9D", price: 5400 },
          { name: "Akumulaƒçn√° n√°doba 100 l (Buffer)", model: "V 100 l", price: 420 },
          { name: "Inteligentn√° regul√°cia FTC", model: "V cene", price: 0 }
        ],
        notes: ["Garantovan√Ω v√Ωkon do -15¬∞C", "Tich√Ω chod", "Japonsk√° kvalita"]
      },
      panasonic_split: {
        type: 'split',
        brand: "Panasonic ‚Äì Aquarea K Series",
        power: "9 kW",
        discountNote: "",
        tech: [
          { name: "Vonkaj≈°ia jednotka Panasonic Aquarea K", model: "WH-UDZ09KE5", price: 3100 },
          { name: "Vn√∫torn√° jednotka All-in-One (185l T√öV)", model: "WH-ADC0309K3E5", price: 4900 },
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["Modern√Ω dizajn K-Series", "Ovl√°danie cez Cloud", "Vysok√° √∫ƒçinnos≈•"]
      },
      hyundai_supreme_10: {
        type: 'split',
        brand: "Hyundai ‚Äì Supreme",
        power: "10 kW",
        discountNote: "",
        tech: [
          { name: "Vonkaj≈°ia jednotka Hyundai Supreme", model: "HPSO 10kW", price: 3100 },
          { name: "Vn√∫torn√° jednotka All-in-One (190l T√öV)", model: "HPSA 190L", price: 3400 },
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["V√Ωborn√Ω pomer cena/v√Ωkon", "ƒåierny dizajn vonkaj≈°ej jednotky"]
      },
      midea_split_12: {
        type: 'split',
        brand: "Midea ‚Äì M-Thermal Split",
        power: "12 kW",
        discountNote: "",
        tech: [
          { name: "Vonkaj≈°ia jednotka M-Thermal", model: "MHA-V12W", price: 2900 },
          { name: "Vn√∫torn√° ve≈æa (T√öV)", model: "HBT-A160", price: 3600 },
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["Osvedƒçen√° technol√≥gia", "Spoƒæahliv√Ω servis"]
      },
      midea_arctic_10: {
        type: 'monoblock', // !!! D√îLE≈ΩIT√â PRE ZMENU MONT√Å≈ΩE
        brand: "Midea ‚Äì Arctic R290 (Monoblok)",
        power: "10 kW",
        discountNote: "",
        tech: [
          { name: "Tepeln√© ƒçerpadlo Midea Arctic R290", model: "Arctic 10 kW", price: 4600 },
          { name: "Z√°sobn√≠k T√öV Dra≈æice OKC 200 NTR/HP", model: "OKC 200", price: 939 }, // Zaokr√∫hlen√©
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["Ekologick√© chladivo R290", "Voda v exteri√©ri (Monoblok)", "Vhodn√© pre rekon≈°trukcie"]
      },
      midea_arctic_12: {
        type: 'monoblock',
        brand: "Midea ‚Äì Arctic R290 (Monoblok)",
        power: "12 kW",
        discountNote: "",
        tech: [
          { name: "Tepeln√© ƒçerpadlo Midea Arctic R290", model: "Arctic 12 kW", price: 5100 },
          { name: "Z√°sobn√≠k T√öV Dra≈æice OKC 200 NTR/HP", model: "OKC 200", price: 939 }, // Zaokr√∫hlen√©
          { name: "Akumulaƒçn√° n√°doba 100 l", model: "V 100 l", price: 420 }
        ],
        notes: ["Vysok√Ω v√Ωkon 12kW", "Ekologick√© chladivo R290", "Bez nutnosti F-plyn kontroly"]
      }
    };

    // 3. Render funkcia
    function renderOffer(key) {
        const offer = OFFERS[key];
        
        // Update textov
        document.getElementById("brandText").textContent = offer.brand;
        document.getElementById("powerText").textContent = offer.power;
        document.getElementById("discountNote").textContent = offer.discountNote;
        
        // Odznak typu syst√©mu
        const badge = document.getElementById("systemTypeBadge");
        const installLabel = document.getElementById("installTypeLabel");
        
        if (offer.type === 'monoblock') {
            badge.textContent = "MONOBLOK (Voda)";
            badge.className = "px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-green-100 text-green-700 border border-green-200";
            installLabel.textContent = "≈†pecifikum pre Monoblok";
            document.getElementById("fGasNote").textContent = "Zariadenie obsahuje pr√≠rodn√© chladivo R290 (Prop√°n).";
        } else {
            badge.textContent = "SPLIT SYST√âM (Chladivo)";
            badge.className = "px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-blue-100 text-blue-700 border border-blue-200";
            installLabel.textContent = "Chladiarensk√° mont√°≈æ";
            document.getElementById("fGasNote").textContent = "Zariadenie obsahuje F-plyny. Vy≈æaduje sa odborn√° in≈°tal√°cia.";
        }

        // Render Technol√≥gie
        let techSum = 0;
        const techBody = document.getElementById("techBody");
        techBody.innerHTML = "";
        offer.tech.forEach(item => {
            techSum += item.price;
            techBody.innerHTML += `
                <tr>
                    <td class="py-2 px-2 font-medium text-slate-800">${item.name}</td>
                    <td class="py-2 px-2 text-slate-600">${item.model}</td>
                    <td class="py-2 px-2 text-right font-bold text-slate-900">${fmt(item.price)}</td>
                </tr>`;
        });
        document.getElementById("techTotal").textContent = fmt(techSum);

        // Render Mont√°≈æe (LOGIKA V√ùBERU)
        const installItems = offer.type === 'monoblock' 
            ? [...BASE_INSTALL, ...MONO_ADDONS] 
            : [...BASE_INSTALL, ...SPLIT_ADDONS];

        let installSum = 0;
        const installBody = document.getElementById("installBody");
        installBody.innerHTML = "";
        installItems.forEach(item => {
            installSum += item.price;
            installBody.innerHTML += `
                <tr>
                    <td class="py-2 px-2 text-slate-700 w-3/4">${item.label}</td>
                    <td class="py-2 px-2 text-right font-bold text-slate-900">${fmt(item.price)}</td>
                </tr>`;
        });
        document.getElementById("installTotal").textContent = fmt(installSum);

        // Render Slu≈æby
        let servicesSum = 0;
        const servicesBody = document.getElementById("servicesBody");
        servicesBody.innerHTML = "";
        SERVICES.forEach(item => {
            servicesSum += item.price;
            servicesBody.innerHTML += `
                <tr>
                    <td class="py-2 px-2 text-slate-700 w-3/4">${item.label}</td>
                    <td class="py-2 px-2 text-right font-bold text-slate-900">${fmt(item.price)}</td>
                </tr>`;
        });
        document.getElementById("servicesTotal").textContent = fmt(servicesSum);

        // Pozn√°mky
        const notesList = document.getElementById("notesList");
        notesList.innerHTML = "";
        offer.notes.forEach(note => {
            notesList.innerHTML += `<li>${note}</li>`;
        });

        // Totals
        const totalNoVat = techSum + installSum + servicesSum;
        const vat = totalNoVat * 0.20;
        const totalWithVat = totalNoVat + vat;
        const subsidy = 3400;

        document.getElementById("sumNoVat").textContent = fmt(totalNoVat);
        document.getElementById("sumVat").textContent = fmt(vat);
        document.getElementById("sumWithVat").textContent = fmt(totalWithVat);
        document.getElementById("afterSubsidy").textContent = "~ " + fmt(Math.max(0, totalWithVat - subsidy));
    }

    // --- INTERAKTIVITA ---
    document.getElementById("offerSelect").addEventListener("change", (e) => renderOffer(e.target.value));
    
    // D√°tum
    const d = new Date();
    document.getElementById("date").textContent = d.toLocaleDateString('sk-SK', { day: 'numeric', month: 'long', year: 'numeric' });

    // Z√°kazn√≠k input
    document.getElementById("customerInput").addEventListener("input", (e) => {
        document.getElementById("customerDisplay").textContent = e.target.value;
    });
    
    // ƒå√≠slo ponuky input
    document.getElementById("offerNumberInput").addEventListener("input", (e) => {
        document.getElementById("offerNumberDisplay").textContent = e.target.value || "2026/001";
    });

    // Init
    renderOffer("mitsubishi");

  </script>
</body>
</html>
